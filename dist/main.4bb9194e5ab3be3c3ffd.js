!function(){"use strict";var t={3874:function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(r,a,i,o){var s,l=null;try{l=document.createElement(r)}catch(t){throw new Error("Unable to create HTMLElement! Give a proper tag name.")}a&&(s=l.classList).add.apply(s,n(a.split(" ")));i&&Array.isArray(i)?i.forEach((function(t){return l.appendChild(t)})):i&&"object"===e(i)?l.appendChild(i):i&&"string"==typeof i&&(l.innerHTML=i),o&&o.appendChild(l);for(var u=arguments.length,c=new Array(u>4?u-4:0),m=4;m<u;m++)c[m-4]=arguments[m];return c.length&&c.forEach((function(e){var n=t(e,2),r=n[0],a=n[1];l.setAttribute(r,a)})),l}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=function(t,e){t.forEach((function(t){var n=null;n="object"===o(t)?"\n      <input id='select_".concat(t.name,'\' class="menu__input" type="radio" name="select" />\n      <label for=\'select_').concat(t.name,'\' class="menu__label" tab-index="0">').concat(t.name,"</label>\n    "):"\n      <input id='select_".concat(t,'\' class="menu__input" type="radio" name="select" />\n      <label for=\'select_').concat(t,'\' class="menu__label"  tab-index="0">').concat(t,"</label>\n    "),e.insertAdjacentHTML("beforeend",n)}))},l=function(t,e){var n=i("div","menu",null,t,["data-state",""],["tabindex","3"]),r=i("div","menu__content",null,n),a=i("div","menu__title",null,n,["data-default",""],["tabindex","0"]);return s(e,r),a};function u(t,e,n,r,a,i,o){try{var s=t[i](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,a)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,a,i;return e=t,n=null,r=[{key:"sendData",value:function(t,e){var n=JSON.stringify({data:JSON.stringify(e),id:"string"}).replace(/"/g,'"');return fetch(t,{method:"POST",body:n,headers:{"Content-type":"application/json; charset=utf-8"}}).catch((function(t){throw new Error("Could not fetch, message: ".concat(t.message))}))}},{key:"getData",value:(a=regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(e,", status: ").concat(n.status));case 5:return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=a.apply(t,e);function o(t){u(i,n,r,o,s,"next",t)}function s(t){u(i,n,r,o,s,"throw",t)}o(void 0)}))},function(t){return i.apply(this,arguments)})},{key:"deleteData",value:function(t,e){return fetch("".concat(t,"/").concat(e),{method:"DELETE"}).catch((function(t){throw new Error("Could not fetch, message: ".concat(t.message))}))}},{key:"putData",value:function(t,e,n){var r=JSON.stringify({data:JSON.stringify(e),id:n}).replace(/"/g,'"');return fetch("".concat(t,"/").concat(n),{method:"PUT",body:r,headers:{"Content-type":"application/json; charset=utf-8"}}).catch((function(t){throw new Error("Could not fetch, message: ".concat(t.message))}))}}],n&&c(e.prototype,n),r&&c(e,r),t}(),d="http://158.101.166.74:8080/api/data/dima_litvinov/",f="Готово!",h="Слот занят. Выберите другое время или дату.",v="Имя ивента некорректное",b="Выберите, пожалуйста, участника(ов)",p="Выберите, пожалуйста, день ивента",y="Выберите, пожалуйста, время ивента",g=function(t,e){return i("div","success-msg",t,e)},_=function(t,e){return i("div","error-msg",t,e)};function C(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x=function(t,e,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=i("div","overlay",null,t),u=i("div","modal",null,s),c=i("form","modal-form",null,u,["name","modal-form"]),S=i("div","modal-form_line",null,c),x=i("div","modal-form_line",null,c),A=i("div","modal-form_line",null,c),E=i("div","modal-form_line",null,c),w=i("div","modal-form_line",null,c);i("p","modal-form_label","Name of event",S),i("p","modal-form_label","Participants",x),i("p","modal-form_label","Day",A),i("p","modal-form_label","Time",E);var L=i("input","modal-form__input",null,S,["type","text"],["tabindex","1"],["name","eventName"],["placeholder","Event"]);L.focus();var T=l(x,e),k=l(A,n.slice(1)),I=l(E,r),M=x.querySelector(".menu__content");M.querySelectorAll("input").forEach((function(t){return t.setAttribute("type","checkbox")})),M.querySelectorAll("label").forEach((function(t){return t.classList.add("member")}));var j=i("button","modal-form__btn submit-button state-0",null,w,["type","submit"],["name","modal-form-submit"],["tabindex","5"]);i("input","modal-form__btn cancel-button",null,w,["type","button"],["value","Cancel"],["name","modal-form-cancel"],["tabindex","6"]),i("button","modal__close-btn","&times",u,["type","button"],["tabindex","7"]),i("span","pre-state-msg","Submit",j),i("span","current-state-msg hide","Sending...",j),i("span","done-state-msg hide","Done!",j);var N=function(){j.classList.remove("state-1","state-2","animated")},O=function(){j.classList.add("state-2"),setTimeout(N,2e3)},D=function(){j.classList.add("state-1","animated"),setTimeout(O,2e3)};c.addEventListener("submit",(function(e){e.preventDefault();var n=L.value.trim(),r=T.textContent.split(" "),i=k.textContent.trim(),l=I.textContent.trim(),u=!1;switch(!0){case n.length<2:var S=_(v,c);setTimeout((function(){return c.removeChild(S)}),2e3);break;case!r.length:var x=_(b,c);setTimeout((function(){return c.removeChild(x)}),2e3);break;case!i:var A=_(p,c);setTimeout((function(){return c.removeChild(A)}),2e3);break;case!l:var E=_(y,c);setTimeout((function(){return c.removeChild(E)}),2e3);break;default:var w={title:n,participants:C(r),day:i,time:l,complete:!0},M=JSON.parse(localStorage.getItem("events")).map((function(t){var e=t.day,r=t.time,a=t.title,s=i===e&&l===r;if(s&&n===a){if(o)return u=!0,w;var m=_(h,c);u=!1,setTimeout((function(){return c.removeChild(m)}),2e3)}else if(s&&n!==a)return u=!0,w;return t}));u&&(D(),m.sendData("".concat(d,"events"),M).then((function(){localStorage.setItem("events",JSON.stringify(M));var e=g(f,c);a(),setTimeout((function(){c.removeChild(e),t.removeChild(s)}),2100)})).catch((function(t){var e=_(t.message,c);setTimeout((function(){return c.removeChild(e)}),2e3)})).finally((function(){L.value="",T.textContent=T.getAttribute("data-default"),k.textContent=k.getAttribute("data-default"),I.textContent=I.getAttribute("data-default")})))}})),s.addEventListener("click",(function(e){var n=e.target;if(n.classList.contains("cancel-button")&&(L.value="",T.textContent=T.getAttribute("data-default"),k.textContent=k.getAttribute("data-default"),I.textContent=I.getAttribute("data-default")),(n.classList.contains("modal__close-btn")||n.classList.contains("overlay"))&&t.removeChild(s),n.classList.contains("menu__title")&&("active"===n.parentElement.getAttribute("data-state")?n.parentElement.setAttribute("data-state",""):n.parentElement.setAttribute("data-state","active")),n.classList.contains("member")){var r=n.parentElement.nextElementSibling.textContent,a=n.textContent;if(r.includes(a)){var i=r.split(" "),o=r.split(" ").findIndex((function(t){return t===a}));i.splice(o,1),n.parentElement.nextElementSibling.textContent=i.join(" ")}else n.parentElement.nextElementSibling.textContent+=" ".concat(n.textContent);n.parentElement.parentElement.setAttribute("data-state","")}n.classList.contains("menu__label")&&!n.classList.contains("member")&&(n.parentElement.nextElementSibling.textContent=n.textContent,n.parentElement.parentElement.setAttribute("data-state",""))}))};var A=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id="f".concat((+new Date).toString(16)),this.name=e,this.isActive=!0},E=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=i("div","overlay",null,t),o=i("div","modal msg",null,a),s=i("div","modal-form_line -column",null,o),l=i("div","modal-form_line",null,o);i("h3","modal__text",e,s,["tabindex","1"]);var u=i("input","modal-form__btn submit-button state-0",null,l,["type","button"],["value","Confirm"],["name","modal-submit"],["tabindex","2"],["aria-label","Confirm"]);if(i("input","modal-form__btn cancel-button",null,l,["type","button"],["value","Cancel"],["name","modal-cancel"],["tabindex","3"],["aria-label","Cancel"]),r){s.insertAdjacentElement("beforeend",r);var c=s.querySelector(".modal-form__input");c&&c.focus(),s.querySelector(".modal-form").addEventListener("submit",(function(t){t.preventDefault()}))}a.addEventListener("click",(function(e){var r=e.target;if(r.classList.contains("submit-button")){var i=null,o=s.querySelector(".modal-form__input"),l=s.querySelector(".menu__title");i=o?o.value.trim():l?l.textContent:s.querySelector(".modal__text").textContent.slice(42,-1).trim(),n(i),t.removeChild(a)}r.classList.contains("cancel-button")&&t.removeChild(a)}));var m=s.querySelector(".modal-form__input");m&&(m.addEventListener("blur",(function(t){if(t.target.value.trim().length<2){var e=_("Please type correct name",s);u.disabled=!0,setTimeout((function(){s.removeChild(e)}),2e3)}})),m.addEventListener("change",(function(t){var e=t.target;if(JSON.parse(localStorage.getItem("members")).find((function(t){return t.name===e.value}))){var n=_("Entered name already exists",s);u.disabled=!0,setTimeout((function(){s.removeChild(n)}),2e3)}else u.disabled=!1})))},w=function(t){var e=i("footer","footer",null,t),n=i("div","author__container",null,e),r=i("div","author",null,n);i("a","","Dima Litvinov",r,["href","https://github.com/funfordima"]);var a=i("div","author hvr-buzz",null,n),o=i("div","author",null,n,["id","my-share"]),s=document.createElement("script");s.src="https://yastatic.net/share2/share.js";o.append(s),o.insertAdjacentHTML("beforeend",'\n  <div class="ya-share2" data-curtain data-color-scheme="blackwhite" data-limit="3" data-services="telegram,skype,linkedin">\n  </div>\n  ');a.insertAdjacentHTML("beforeend",'\n  <object type="image/svg+xml" data="../src/assets/image/git.svg" width="70" height="70">\n    <img src="../src/assets/image/git.png" width="200" height="200" alt="image format png" />\n  </object>\n')};function L(t){return function(t){if(Array.isArray(t))return T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(t,e,n,r,a,i,o){try{var s=t[i](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,a)}function I(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){k(i,r,a,o,s,"next",t)}function s(t){k(i,r,a,o,s,"throw",t)}o(void 0)}))}}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=document.getElementById("root"),this.days=["Name","Mon","Tue","Wed","Thu","Fri"],this.timeLabels=["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],this.todos=[],this.members=[],this.contentContainer="",this.currentUser=null,this.isAdmin=!1,this.id=null}var e,n,r,a,o,u,c,h;return e=t,(n=[{key:"createHeader",value:function(){var t=i("header","header",null,this.root),e=i("h1","header__title hvr-float-shadow",null,t),n=i("div","header__form_container",null,t),r=i("div","event-btn__container --large",null,n);this.btnAddMember=i("button","event-btn add-member hide hvr-shutter-out-vertical","New Member +",r,["type","submit"],["value","New Member +"]),this.btnChangeUser=i("button","event-btn change-member hvr-sweep-to-right","Change User",r,["type","submit"],["value","Change User"]);var a=i("form","header__form",null,n,["name","members-form"]),o=i("div","event-btn__container",null,a);this.menu=i("div","menu",null,a,["data-state",""]),this.membersContainer=i("div","menu__content",null,this.menu),this.menuTitle=i("div","menu__title",null,this.menu,["data-default",""],["tabindex",0]),i("div","menu__container",this.menu,a),this.btnAddItem=i("input","event-btn add-event hide",null,o,["type","submit"],["value","New Event +"]),this.resetMenuBtn=i("input","event-btn reset-event",null,o,["type","reset"],["value","Clear it!"]),i("a","header__title_link","Calendar",e,["href","#"],["alt","logo link"])}},{key:"generateMembers",value:(h=I(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getData("".concat(d,"members"));case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0="[]";case 5:this.members=t.t0,this.members=JSON.parse(this.members[this.members.length-1].data),localStorage.setItem("members",JSON.stringify(this.members)),s(this.members,e),document.querySelectorAll(".menu__content input").forEach((function(t,e){return t.setAttribute("id","".concat(n.members[e],"_header"))})),document.querySelectorAll(".menu__content label").forEach((function(t,e){return t.setAttribute("for","".concat(n.members[e],"_header"))}));case 11:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"createMembers",value:(c=I(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.innerHTML="",this.generateMembers(e);case 2:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"generateToDoItems",value:(u=I(regeneratorRuntime.mark((function t(e){var n,r,a,o,s,l,u,c,h,v,b=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h=function(){if(this.className="main__item",n){var t=n.dataset.day,e=n.dataset.time,o=this.dataset.day,s=this.dataset.time,l=n.title.split(" "),u={title:n.firstChild.textContent,participants:L(l),day:o,time:s,complete:!0},c=JSON.parse(localStorage.getItem("events")).map((function(n){var r=n.day,a=n.time;return t===r&&e===a?{title:"",participants:[""],day:t,time:e,complete:!1}:o===r&&s===a?u:n})),h=i("div","main__item draggable",null,null,["data-complete",!1],["data-day",t],["data-time",e],["title",[""]],["draggable",!1]);i("h3","main__item_title","",h),i("div","main__item_btn-close","&times;",h),document.querySelector(".invisible").replaceWith(h),m.putData("".concat(d,"events"),c,a).then((function(){var t=document.querySelector(".main");localStorage.setItem("events",JSON.stringify(c));var e=g(f,t);r(c),setTimeout((function(){t.removeChild(e)}),2100)})).catch((function(t){var e=document.querySelector(".main"),n=_(t.message,e);setTimeout((function(){return e.removeChild(n)}),2e3)}))}this.replaceWith(n),n=null},c=function(){this.className="main__item"},u=function(t){t.preventDefault(),this.className+=" hovered"},l=function(t){t.preventDefault()},s=function(){this.className="main__item"},o=function(){var t=this;n=this,this.className+=" hold",setTimeout((function(){t.className="invisible"}),0)},this.contentContainer.innerHTML="",e.forEach((function(t){var e=t.title,n=t.complete,r=t.day,a=t.time,o=t.participants,s=i("div","wrap",null,b.contentContainer),l=i("div","main__item",null,s,["data-complete",n],["data-day",r],["data-time",a],["title",o.join(" ")],["draggable",n]);b.isAdmin||l.setAttribute("draggable",!1),i("h3","main__item_title",e,l),i("div","main__item_btn-close","&times;",l,["tabindex","0"])})),n=null,r=this.generateToDoItems.bind(this),a=this.id,this.isAdmin&&(v=this.contentContainer.querySelectorAll('div[draggable="true"]'),this.contentContainer.querySelectorAll('div[draggable="false"]').forEach((function(t){t.addEventListener("dragover",l),t.addEventListener("dragenter",u),t.addEventListener("dragleave",c),t.addEventListener("drop",h)})),v.forEach((function(t){return t.addEventListener("dragstart",o)})),v.forEach((function(t){return t.addEventListener("dragend",s)})));case 12:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"createMain",value:function(){this.main=i("main","main",null,this.root);var t=i("div","row-container",null,this.main),e=i("div","col-container",null,this.main);this.contentContainer=i("div","content-container",null,this.main),this.days.forEach((function(e){i("div","main__item",e,t)})),this.timeLabels.forEach((function(t){i("div","main__item",t,e)})),this.generateToDoItems(this.todos)}},{key:"handlerInputMembers",value:function(){var t=this;this.menu.addEventListener("click",(function(e){var n=e.target;if(n.classList.contains("menu__title")&&("active"===t.menu.getAttribute("data-state")?t.menu.setAttribute("data-state",""):t.menu.setAttribute("data-state","active")),n.classList.contains("menu__label")){t.menuTitle.textContent=n.textContent,t.menu.setAttribute("data-state","");var r=t.menuTitle.textContent;t.todos.map((function(t){return t.participants.includes(r)?t.complete=!0:t.complete=!1,t})),t.generateToDoItems(t.todos)}}))}},{key:"handlerDeleteEvent",value:function(t){var e=this,n=!1,r=t.dataset.day,a=t.dataset.time,i={title:"",participants:[""],day:r,time:a,complete:!1};this.todos=this.todos.map((function(t){return t.time===a&&t.day===r?(n=!0,i):t})),n&&m.putData("".concat(d,"events"),this.todos,this.id).then((function(){localStorage.setItem("events",JSON.stringify(e.todos));var t=g("Done!",e.root);e.generateToDoItems(e.todos),setTimeout((function(){return e.root.removeChild(t)}),2e3)})).catch((function(t){var n=_(t.message,e.root);setTimeout((function(){return e.root.removeChild(n)}),2e3)}))}},{key:"handlerAddNewMember",value:function(t){var e=this,n=new A(t),r=JSON.parse(localStorage.getItem("members"));r.push(n),m.sendData("".concat(d,"members"),r).then((function(){localStorage.setItem("members",JSON.stringify(r));var t=g("Done!",e.root);e.createMembers(e.membersContainer),setTimeout((function(){return e.root.removeChild(t)}),2e3)})).catch((function(t){var n=_(t.message,e.root);setTimeout((function(){return e.root.removeChild(n)}),2e3)}))}},{key:"setCurrentUser",value:function(t){var e=JSON.parse(localStorage.getItem("members")).find((function(e){return e.name===t}));this.currentUser=e,this.isAdmin=this.currentUser.isAdmin}},{key:"renderModalChooseUser",value:function(){var t=this,e=i("form","modal-form",null,null,["name","modal-form"]),n=i("div","modal-form_line",null,e),r=l(n,this.members),a=n.querySelector(".menu");E(this.root,"Please authorise",(function(e){t.setCurrentUser(e),t.isAdmin?(t.btnAddMember.classList.remove("hide"),t.btnAddItem.classList.remove("hide")):(t.btnAddMember.classList.add("hide"),t.btnAddItem.classList.add("hide")),t.generateToDoItems(t.todos)}),e),a.addEventListener("click",(function(t){var e=t.target;e.classList.contains("menu__title")&&("active"===a.getAttribute("data-state")?a.setAttribute("data-state",""):a.setAttribute("data-state","active")),e.classList.contains("menu__label")&&(r.textContent=e.textContent,a.setAttribute("data-state",""))}))}},{key:"init",value:(o=I(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getData("".concat(d,"events"));case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0="[]";case 5:return this.todos=t.t0,this.id=this.todos[this.todos.length-1].id,this.todos=JSON.parse(this.todos[this.todos.length-1].data),localStorage.setItem("events",JSON.stringify(this.todos)),this.createHeader(),t.next=12,this.generateMembers(this.membersContainer);case 12:this.renderModalChooseUser(),this.createMain(),w(this.root),this.handlerInputMembers();case 16:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"render",value:(a=I(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:this.contentContainer.addEventListener("click",(function(t){var n=t.target;if(n.classList.contains("main__item_btn-close")){var r=n.previousElementSibling.textContent;E(e.root,"Are you sure you want to delete the event: ".concat(r,"?"),e.handlerDeleteEvent.bind(e,n.parentElement))}})),this.resetMenuBtn.addEventListener("click",(function(){e.menuTitle.textContent=e.menuTitle.getAttribute("data-default"),e.todos.map((function(t){var n=e.members.map((function(t){return t.name}));return t.participants.forEach((function(e){n.includes(e)?t.complete=!0:t.complete=!1})),t})),e.generateToDoItems(e.todos)})),this.btnAddItem.addEventListener("click",(function(t){t.preventDefault(),x(document.body,e.members,e.days,e.timeLabels,(function(){var t=JSON.parse(localStorage.getItem("events"));e.generateToDoItems(t),e.todos=t}))})),this.btnAddMember.addEventListener("click",(function(){var t=i("form","modal-form",null,null,["name","modal-form"]),n=i("div","modal-form_line",null,t);i("p","modal-form_label","Member",n),i("input","modal-form__input",null,n,["type","text"],["tab-index","1"],["name","memberName"],["placeholder","add member"]),E(e.root,"Create new user",(function(t){return e.handlerAddNewMember(t)}),t)})),this.btnChangeUser.addEventListener("click",(function(){return e.renderModalChooseUser()})),document.querySelector(".author:nth-of-type(2)").addEventListener("click",(function(){return new Audio("../src/assets/meow.mp3").play()}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})}])&&M(e.prototype,n),r&&M(e,r),t}())).render()}},e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.m=t,n.x=function(){},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={179:0},e=[[6371,371],[3874,371]],r=function(){},a=function(a,i){for(var o,s,l=i[0],u=i[1],c=i[2],m=i[3],d=0,f=[];d<l.length;d++)s=l[d],n.o(t,s)&&t[s]&&f.push(t[s][0]),t[s]=0;for(o in u)n.o(u,o)&&(n.m[o]=u[o]);for(c&&c(n),a&&a(i);f.length;)f.shift()();return m&&e.push.apply(e,m),r()},i=self.webpackChunk=self.webpackChunk||[];function o(){for(var r,a=0;a<e.length;a++){for(var i=e[a],o=!0,s=1;s<i.length;s++){var l=i[s];0!==t[l]&&(o=!1)}o&&(e.splice(a--,1),r=n(n.s=i[0]))}return 0===e.length&&(n.x(),n.x=function(){}),r}i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i));var s=n.x;n.x=function(){return n.x=s||function(){},(r=o)()}}(),n.x()}();
//# sourceMappingURL=main.4bb9194e5ab3be3c3ffd.js.map